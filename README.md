# WebScan - Worker
---
Этот сервис занимается сканированием git репозитория, скачивая lock-файлы с целью их проверки на наличие уязвимостей с помощью сервиса https://osv.dev/.
Предполагается, что этот сервис будет запущен в нескольких экземплярах и доступ к нему будет осуществляться через балансировщик нагрузки.

### Возможности
На данный момент сервис поддерживает следующее:

Git-сервисы:
* [X] GitHub
* [ ] GitLab

Lock-файлы:
* [X] npm	(package-lock.json)
* [ ] pip	(requirements.txt)
* [ ] yarn	(yarn.lock)

### Требования
Необходим:
* Go 1.22.3
* Доступ к онлайн-сервисам GitHub, GitLab и osv.dev

### Запуск
1) Склонировать репозиторий.
2) Зайти в директорию.
3) Загрузить зависимости командой `go get`.
4) Запустить сервис командой `go run ./main.go`.

### Swagger-документация
Если необходимо пересобрать Swagger-документацию, нужно:
1) Установить Go-пакет: `go get -u github.com/swaggo/swag/cmd/swag`.
2) В корне репозитория написать: `swag init`.

### Использование
После запуска документация по использованию доступна [по адресу]( http://localhost:1323/swagger).
P.S. Токен для GitHub можно получить [тут](https://github.com/settings/tokens?type=beta).

### Другие репозитории:
[Тестовые lock-файлы](https://github.com/RomDmitriy/WebScan-tests)